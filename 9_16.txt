C:\Users\pvufx\Desktop\template\frontend\src\views\Login.vue

<script setup>
import { ref } from 'vue';
import { useRouter, useRoute } from 'vue-router';
import { useAuthStore } from '@/stores/auth';

const auth = useAuthStore();
const router = useRouter();
const route = useRoute();

const username = ref('');
const password = ref('');
const error = ref('');
const loading = ref(false);

async function onSubmit() {
    error.value = '';
    loading.value = true;

    // â­ ä¿®æ­£: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ã®æˆ»ã‚Šå€¤ã«å¯¾å¿œ
    const result = await auth.loginSession(username.value, password.value);
    loading.value = false;

    console.log('ğŸš€ ãƒ­ã‚°ã‚¤ãƒ³çµæœ:', result); // ãƒ‡ãƒãƒƒã‚°ç”¨

    // â­ ä¿®æ­£: result.success ã‚’ãƒã‚§ãƒƒã‚¯
    if (result.success) {
        console.log('âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ - ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆé–‹å§‹');
        const redirect = route.query.next || '/home'; // â­ '/' â†’ '/home' ã«å¤‰æ›´
        console.log('ğŸ”„ ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå…ˆ:', redirect);

        try {
            await router.push(redirect);
            console.log('âœ… ç”»é¢é·ç§»å®Œäº†');
        } catch (routerError) {
            console.error('âŒ ç”»é¢é·ç§»ã‚¨ãƒ©ãƒ¼:', routerError);
        }
    } else {
        console.error('âŒ ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—:', result.error);
        // â­ ä¿®æ­£: ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
        error.value =
            result.error ||
            'ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™ã€‚';
    }
}
</script>

<template>
    <v-container>
        <v-row justify="center">
            <v-col class="fixed-col">
                <v-card rounded="lg" elevation="10">
                    <v-toolbar
                        color="blue-darken-3"
                        dark
                        flat
                        class="rounded-t-lg"
                    >
                        <div class="d-flex w-100 justify-center align-center">
                            <span class="text-h5 font-weight-bold text-white">
                                ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢
                            </span>
                        </div>
                    </v-toolbar>
                    <v-card-text class="py-6 px-4">
                        <v-form @submit.prevent="onSubmit">
                            <v-text-field
                                v-model="username"
                                label="ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
                                required
                                prepend-inner-icon="mdi-account"
                            />
                            <v-text-field
                                v-model="password"
                                label="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰"
                                type="password"
                                required
                                prepend-inner-icon="mdi-lock"
                            />
                            <v-btn
                                type="submit"
                                :loading="loading"
                                color="blue-darken-3"
                                class="mt-6"
                                block
                                size="large"
                            >
                                ãƒ­ã‚°ã‚¤ãƒ³
                            </v-btn>
                        </v-form>
                    </v-card-text>
                    <v-card-actions v-if="error" class="justify-center">
                        <v-alert
                            type="error"
                            dense
                            outlined
                            class="text-center w-100"
                            >{{ error }}</v-alert
                        >
                    </v-card-actions>
                </v-card>
            </v-col>
        </v-row>
    </v-container>
</template>


// src/main.js

import { createApp } from 'vue';
import { createPinia } from 'pinia';
import piniaPluginPersistedstate from 'pinia-plugin-persistedstate';
import App from './App.vue';
import router from './router';
import vuetify from './plugins/vuetify';

// Styles
import '@mdi/font/css/materialdesignicons.css';
import './assets/style/main.scss';

// â­ Auth storeï¼ˆåˆæœŸåŒ–ç”¨ï¼‰
import { useAuthStore } from '@/stores/auth';

const app = createApp(App);

// â­ Pinia setup
const pinia = createPinia();
pinia.use(piniaPluginPersistedstate);

app.use(pinia);
app.use(router);
app.use(vuetify);

// â­ ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
app.config.errorHandler = (err, instance, info) => {
    console.error('Global error:', err);
    console.error('Component:', instance);
    console.error('Error info:', info);

    // å¿…è¦ã«å¿œã˜ã¦ã‚¨ãƒ©ãƒ¼å ±å‘Šã‚µãƒ¼ãƒ“ã‚¹ã«é€ä¿¡
    // reportError(err, { component: instance, info });
};

// â­ ã‚¢ãƒ—ãƒªåˆæœŸåŒ–å‡¦ç†
const initializeApp = async () => {
    try {
        // èªè¨¼çŠ¶æ…‹ã®åˆæœŸåŒ–ï¼ˆæ°¸ç¶šåŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´åˆã®åŒæœŸï¼‰
        const authStore = useAuthStore();
        await authStore.initialize();

        console.log('ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæœŸåŒ–å®Œäº†');
    } catch (error) {
        console.error('ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:', error);
    }
};

// â­ ã‚¢ãƒ—ãƒªã®ãƒã‚¦ãƒ³ãƒˆ
app.mount('#app');

// â­ åˆæœŸåŒ–å‡¦ç†ã‚’å®Ÿè¡Œ
initializeApp();


// src/constants/routes.js

// â­ Object.freezeã§ä¸å¤‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã—ã¦å®‰å…¨æ€§å‘ä¸Š
export const routes = Object.freeze({
    // èªè¨¼é–¢é€£
    LOGIN: '/login',
    LOGOUT: '/logout',
    // REGISTER: '/register',

    // ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
    HOME: '/home',
    // DASHBOARD: '/dashboard',

    // // ãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢é€£
    // PROFILE: '/profile',
    // SETTINGS: '/settings',

    // // ãã®ä»–
    // ABOUT: '/about',
    // CONTACT: '/contact',

    // // ç®¡ç†è€…ç”¨ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
    // ADMIN: '/admin',
    // USERS: '/admin/users',
});

// â­ ãƒ«ãƒ¼ãƒˆã®ãƒ¡ã‚¿æƒ…å ±ã‚‚å®šç¾©
// export const routeMetadata = Object.freeze({
//     [routes.HOME]: {
//         title: 'ãƒ›ãƒ¼ãƒ ',
//         requiresAuth: true,
//         icon: 'mdi-home',
//     },
//     [routes.PROFILE]: {
//         title: 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«',
//         requiresAuth: true,
//         icon: 'mdi-account',
//     },
//     [routes.LOGIN]: {
//         title: 'ãƒ­ã‚°ã‚¤ãƒ³',
//         hideForAuth: true,
//         icon: 'mdi-login',
//     },
//     [routes.SETTINGS]: {
//         title: 'è¨­å®š',
//         requiresAuth: true,
//         icon: 'mdi-cog',
//     },
// });

// â­ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®ãƒ«ãƒ¼ãƒˆé…åˆ—
// export const navigationRoutes = [
//     {
//         path: routes.HOME,
//         name: 'ãƒ›ãƒ¼ãƒ ',
//         icon: 'mdi-home',
//         requiresAuth: true,
//     },
//     {
//         path: routes.PROFILE,
//         name: 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«',
//         icon: 'mdi-account',
//         requiresAuth: true,
//     },
//     {
//         path: routes.SETTINGS,
//         name: 'è¨­å®š',
//         icon: 'mdi-cog',
//         requiresAuth: true,
//     },
// ];

// â­ ãƒ«ãƒ¼ãƒˆæ¤œè¨¼ç”¨ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
// export const isValidRoute = (path) => {
//     return Object.values(routes).includes(path);
// };

// export const getRouteMetadata = (path) => {
//     return routeMetadata[path] || {};
// };



// src/router/index.js

import { createRouter, createWebHistory } from 'vue-router';
import { authGuard } from './auth-guard.js';
import { routes } from '@/constants/routes';

const router = createRouter({
    history: createWebHistory(),
    routes: [
        {
            path: '/',
            meta: { requiresAuth: true },
            children: [
                {
                    path: routes.HOME,
                    name: 'Home',
                    component: () =>
                        import(
                            /* webpackChunkName: "home" */ '@/views/Home.vue'
                        ),
                },
                // {
                //     path: routes.PROFILE,
                //     name: 'Profile',
                //     component: () =>
                //         import(
                //             /* webpackChunkName: "profile" */ '@/views/Profile.vue' // â­ ãƒãƒ£ãƒ³ã‚¯åä¿®æ­£
                //         ),
                // },
            ],
        },
        {
            path: routes.LOGIN,
            name: 'Login',
            component: () =>
                import(
                    /* webpackChunkName: "auth" */ '@/views/Login.vue' // â­ ãƒãƒ£ãƒ³ã‚¯åã‚’authã«å¤‰æ›´
                ),
            meta: { hideForAuth: true }, // â­ ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯è¡¨ç¤ºã—ãªã„
        },
        {
            path: '/:pathMatch(.*)*',
            name: 'NotFound', // â­ nameè¿½åŠ 
            redirect: routes.LOGIN,
        },
    ],
});

router.beforeEach(authGuard);

export default router;



// src/router/auth-guard.js

import { useAuthStore } from '@/stores/auth';

export const authGuard = async (to, from) => {
    const auth = useAuthStore();

    // â­ ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸå ´åˆã®å‡¦ç†æ”¹å–„
    if (to.meta.hideForAuth && auth.user) {
        // å‰ã®ãƒšãƒ¼ã‚¸ãŒã‚ã‚‹å ´åˆã¯ãã“ã«æˆ»ã‚‹ã€ãªã‘ã‚Œã°ãƒ›ãƒ¼ãƒ ã¸
        return { path: from.path || '/', replace: true };
    }

    // èªè¨¼ãŒå¿…è¦ãªãƒšãƒ¼ã‚¸ã®å ´åˆ
    if (to.meta.requiresAuth) {
        // â­ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒãªãã€ã‹ã¤ãƒ­ãƒ¼ãƒ‰ä¸­ã§ãªã„å ´åˆã®ã¿fetchUserå®Ÿè¡Œ
        if (!auth.user && !auth.loading) {
            try {
                await auth.fetchUser();
            } catch (error) {
                console.error('èªè¨¼ãƒã‚§ãƒƒã‚¯ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ:', error);
            }
        }

        // â­ ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯
        if (!auth.user) {
            return {
                path: '/login',
                query: { next: to.fullPath },
                replace: true, // â­ å±¥æ­´ã‚’æ®‹ã•ãªã„
            };
        }
    }

    return true;
};



// src/plugins/axios.js

import axios from 'axios';
import Cookies from 'js-cookie';

// â­ Environment-based configuration
const API_BASE_URL =
    import.meta.env.VITE_API_BASE_URL || 'http://localhost:8000/api/';

const api = axios.create({
    baseURL: API_BASE_URL,
    withCredentials: true,
    timeout: 5000, // â­ 10ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¿½åŠ 
});

// â­ CSRFç®¡ç†ã‚¯ãƒ©ã‚¹ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
class CSRFManager {
    constructor() {
        this.tokenFetched = false;
        this.fetchingPromise = null;
    }

    async ensureToken() {
        if (this.tokenFetched) return;

        // â­ é‡è¤‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆé˜²æ­¢ï¼šæ—¢ã«å–å¾—ä¸­ã®å ´åˆã¯åŒã˜Promiseã‚’è¿”ã™
        if (this.fetchingPromise) {
            return this.fetchingPromise;
        }

        this.fetchingPromise = this._fetchToken();
        try {
            await this.fetchingPromise;
        } finally {
            this.fetchingPromise = null;
        }
    }

    async _fetchToken() {
        try {
            await api.get('csrf/');
            this.tokenFetched = true;
        } catch (error) {
            console.error('CSRFãƒˆãƒ¼ã‚¯ãƒ³ã®å–å¾—ã«å¤±æ•—:', error);
            throw error;
        }
    }

    // â­ ãƒˆãƒ¼ã‚¯ãƒ³ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½
    reset() {
        this.tokenFetched = false;
        this.fetchingPromise = null;
    }
}

const csrfManager = new CSRFManager();

// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ãƒ¼
api.interceptors.request.use(async (config) => {
    const method = config.method?.toLowerCase();
    const methodsRequiringCsrf = ['post', 'put', 'patch', 'delete'];

    if (methodsRequiringCsrf.includes(method)) {
        try {
            await csrfManager.ensureToken();
            const csrfToken = Cookies.get('csrftoken');
            if (csrfToken) {
                config.headers['X-CSRFToken'] = csrfToken;
            }
        } catch (error) {
            console.warn('CSRFãƒˆãƒ¼ã‚¯ãƒ³ã®è¨­å®šã‚’ã‚¹ã‚­ãƒƒãƒ—:', error);
        }
    }

    return config;
});

// èªè¨¼ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
let onAuthErrorCallback = null;
export const setOnAuthErrorCallback = (callback) => {
    onAuthErrorCallback = callback;
};

// â­ CSRFãƒˆãƒ¼ã‚¯ãƒ³ãƒªã‚»ãƒƒãƒˆé–¢æ•°ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export const resetCSRFToken = () => {
    csrfManager.reset();
};

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ãƒ¼
api.interceptors.response.use(
    (response) => response,
    (error) => {
        const { response, config } = error;

        if (response) {
            // â­ 401/403ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ”¹å–„
            if ([401, 403].includes(response.status)) {
                const isLogoutRequest = config.url?.endsWith('logout/');

                if (!isLogoutRequest && onAuthErrorCallback) {
                    onAuthErrorCallback();
                }
            }

            // â­ CSRFã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ
            if (
                response.status === 403 &&
                response.data?.detail?.toLowerCase().includes('csrf')
            ) {
                console.warn('CSRFãƒˆãƒ¼ã‚¯ãƒ³ã‚¨ãƒ©ãƒ¼ - ãƒªã‚»ãƒƒãƒˆã—ã¾ã™');
                csrfManager.reset();
            }
        }

        return Promise.reject(error);
    },
);

export default api;



// src/stores/auth.js

import { defineStore } from 'pinia';
import { ref, computed } from 'vue';
import api, { setOnAuthErrorCallback, resetCSRFToken } from '@/plugins/axios';
import router from '@/router';

export const useAuthStore = defineStore(
    'auth',
    () => {
        const user = ref(null);
        const loading = ref(false);
        const error = ref(null); // â­ ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹è¿½åŠ 

        // â­ Computed propertiesè¿½åŠ 
        const isAuthenticated = computed(() => !!user.value);
        const isLoading = computed(() => loading.value);

        // â­ åˆæœŸåŒ–æ™‚ã«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è¨­å®š
        setOnAuthErrorCallback(() => {
            handleAuthError();
        });

        async function loginSession(username, password) {
            loading.value = true;
            error.value = null; // â­ ã‚¨ãƒ©ãƒ¼ãƒªã‚»ãƒƒãƒˆ

            try {
                await api.post('login/', { username, password });
                await fetchUser();
                return { success: true }; // â­ æˆ»ã‚Šå€¤ã‚’çµ±ä¸€
            } catch (e) {
                const errorMessage =
                    e.response?.data?.message ||
                    e.response?.data?.detail ||
                    'ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ';
                error.value = errorMessage;
                console.error('Login failed:', e);
                return { success: false, error: errorMessage };
            } finally {
                loading.value = false;
            }
        }

        async function fetchUser() {
            // â­ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ï¼šæ—¢ã«å®Ÿè¡Œä¸­ã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
            if (loading.value) return;

            loading.value = true;
            try {
                const response = await api.get('me/');
                user.value = response.data;
                error.value = null; // â­ æˆåŠŸæ™‚ã¯ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢
            } catch (err) {
                if (err.response?.status === 403) {
                    // æœªãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ï¼ˆæƒ³å®šå†…ï¼‰
                    user.value = null;
                } else {
                    console.error('ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å–å¾—ã«å¤±æ•—:', err);
                    error.value = 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ';
                }
            } finally {
                loading.value = false;
            }
        }

        async function logout(redirect = true) {
            // â­ ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆåˆ¶å¾¡å¯èƒ½ã«
            loading.value = true;

            try {
                // ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã¨èªè­˜ã•ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿APIå‘¼ã³å‡ºã—
                if (user.value) {
                    await api.post('logout/');
                }
            } catch (e) {
                console.error('Logout API failed:', e);
                // ã‚¨ãƒ©ãƒ¼ã§ã‚‚ç¶šè¡Œï¼ˆãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ã¯ã‚¯ãƒªã‚¢ã™ã‚‹ï¼‰
            } finally {
                // â­ çŠ¶æ…‹ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
                user.value = null;
                error.value = null;
                loading.value = false;

                // â­ CSRFãƒˆãƒ¼ã‚¯ãƒ³ã‚‚ãƒªã‚»ãƒƒãƒˆ
                resetCSRFToken();

                // â­ ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå‡¦ç†æ”¹å–„
                if (redirect && router.currentRoute.value.path !== '/login') {
                    router.push('/login').catch((err) => {
                        console.warn('ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚¨ãƒ©ãƒ¼:', err);
                    });
                }
            }
        }

        // â­ èªè¨¼ã‚¨ãƒ©ãƒ¼æ™‚ã®å‡¦ç†ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ãƒ¼ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ï¼‰
        function handleAuthError() {
            if (user.value) {
                // ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã®å ´åˆã®ã¿ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
                console.warn('èªè¨¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ - è‡ªå‹•ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™');
                logout(true);
            }
        }

        // â­ ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹é–¢æ•°
        function clearError() {
            error.value = null;
        }

        // â­ åˆæœŸåŒ–å‡¦ç†ï¼ˆã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã«å‘¼ã³å‡ºã—æ¨å¥¨ï¼‰
        async function initialize() {
            if (user.value && !loading.value) {
                // æ°¸ç¶šåŒ–ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒã‚ã‚‹å ´åˆã€ã‚µãƒ¼ãƒãƒ¼ã¨åŒæœŸ
                await fetchUser();
            }
        }

        return {
            // State
            user,
            loading,
            error,

            // Computed
            isAuthenticated,
            isLoading,

            // Actions
            loginSession,
            fetchUser,
            logout,
            clearError,
            initialize,
        };
    },
    // {
    //     persist: {
    //         // â­ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®ã¿æ°¸ç¶šåŒ–ï¼ˆloading, errorã¯é™¤å¤–ï¼‰
    //         paths: ['user'],
    //     },
    // },
);
