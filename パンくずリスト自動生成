# ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆè‡ªå‹•ç”Ÿæˆã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆãŒè‡ªå‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚  
æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹éš›ã‚‚ã€ãƒ«ãƒ¼ãƒˆå®šç¾©ã¨ i18n ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã™ã‚‹ã ã‘ã§è‡ªå‹•çš„ã«ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

---

## ğŸ“‹ ç›®æ¬¡

1. [åŸºæœ¬çš„ãªä½¿ã„æ–¹](#åŸºæœ¬çš„ãªä½¿ã„æ–¹)
2. [è©³ç´°ç”»é¢ã®è‡ªå‹•æŒ¿å…¥](#è©³ç´°ç”»é¢ã®è‡ªå‹•æŒ¿å…¥)
3. [æ–°æ©Ÿèƒ½ã®è¿½åŠ æ–¹æ³•](#æ–°æ©Ÿèƒ½ã®è¿½åŠ æ–¹æ³•)
4. [ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•](#ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•)
5. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ğŸ¯ åŸºæœ¬çš„ãªä½¿ã„æ–¹

### 1. ãƒ«ãƒ¼ãƒˆå®šç¾©ã« `meta.breadcrumb` ã‚’è¿½åŠ 

```javascript
// src/router/index.js
{
    path: '/admin/users',
    name: 'UserList',
    component: () => import('@/views/users/UserList.vue'),
    meta: {
        breadcrumb: 'breadcrumbs.users.list', // i18nã‚­ãƒ¼ã‚’æŒ‡å®š
    },
}
```

### 2. i18n ãƒ•ã‚¡ã‚¤ãƒ«ã«ç¿»è¨³ã‚’è¿½åŠ 

```javascript
// src/locales/ja.json
{
    "breadcrumbs": {
        "users": {
            "list": "ãƒ¦ãƒ¼ã‚¶ãƒ¼"
        }
    }
}
```

### 3. ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ä½•ã‚‚ã—ãªã„

```vue
<!-- src/views/users/UserList.vue -->
<template>
    <!-- Header ã‚’é…ç½®ã™ã‚‹ã ã‘ -->
    <Header :app-title="t('pages.users.list.title')" />
</template>
```

**çµæœ:**
```
ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ: ãƒ›ãƒ¼ãƒ  > ç®¡ç† > ãƒ¦ãƒ¼ã‚¶ãƒ¼
```

---

## ğŸ”— è©³ç´°ç”»é¢ã®è‡ªå‹•æŒ¿å…¥

ç·¨é›†ãƒ»å‰Šé™¤ç”»é¢ã§ã€Œè©³ç´°ã€ã‚’è‡ªå‹•çš„ã«æŒ¿å…¥ã§ãã¾ã™ã€‚

### 1. ãƒ«ãƒ¼ãƒˆå®šç¾©ã§ `breadcrumbParent` ã‚’æŒ‡å®š

```javascript
// src/router/index.js
{
    path: 'users',
    meta: {
        breadcrumb: 'breadcrumbs.users.list', // ä¸€è¦§
    },
    children: [
        {
            path: ':id',
            name: 'UserDetail',
            component: () => import('@/views/users/UserDetail.vue'),
            meta: {
                breadcrumb: 'breadcrumbs.users.detail', // è©³ç´°
            },
        },
        {
            path: ':id/update',
            name: 'UserUpdate',
            component: () => import('@/views/users/UserUpdate.vue'),
            meta: {
                breadcrumb: 'breadcrumbs.users.update', // ç·¨é›†
                breadcrumbParent: 'UserDetail', // â† è©³ç´°ç”»é¢ã‚’è¦ªã¨ã—ã¦æŒ‡å®š
            },
        },
    ],
}
```

### 2. i18n ãƒ•ã‚¡ã‚¤ãƒ«ã«ç¿»è¨³ã‚’è¿½åŠ 

```javascript
{
    "breadcrumbs": {
        "users": {
            "list": "ãƒ¦ãƒ¼ã‚¶ãƒ¼",
            "detail": "è©³ç´°",
            "update": "ç·¨é›†"
        }
    }
}
```

**çµæœ:**
```
è©³ç´°ç”»é¢: ãƒ›ãƒ¼ãƒ  > ç®¡ç† > ãƒ¦ãƒ¼ã‚¶ãƒ¼ > è©³ç´°
ç·¨é›†ç”»é¢: ãƒ›ãƒ¼ãƒ  > ç®¡ç† > ãƒ¦ãƒ¼ã‚¶ãƒ¼ > è©³ç´° > ç·¨é›†  â† è©³ç´°ãŒè‡ªå‹•æŒ¿å…¥ï¼
```

---

## â• æ–°æ©Ÿèƒ½ã®è¿½åŠ æ–¹æ³•

å•†å“ç®¡ç†ã‚’è¿½åŠ ã™ã‚‹ä¾‹ã§èª¬æ˜ã—ã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—1: routes.js ã«ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã‚’è¿½åŠ 

```javascript
// src/constants/routes.js
export const routes = Object.freeze({
    ADMIN: {
        ROOT: '/admin',
        PRODUCTS: {
            SEGMENT: 'products',
            INDEX: '',
            CREATE: 'create',
            DETAIL: ':id',
            UPDATE: ':id/update',
            DELETE: ':id/delete',
        },
    },
});

export const productRoutes = {
    list: () => '/admin/products',
    create: () => '/admin/products/create',
    detail: (id) => `/admin/products/${id}`,
    update: (id) => `/admin/products/${id}/update`,
    delete: (id) => `/admin/products/${id}/delete`,
};
```

### ã‚¹ãƒ†ãƒƒãƒ—2: router/index.js ã«ãƒ«ãƒ¼ãƒˆã‚’è¿½åŠ 

```javascript
// src/router/index.js
{
    path: routes.ADMIN.PRODUCTS.SEGMENT, // 'products'
    meta: {
        breadcrumb: 'breadcrumbs.products.list', // â† .list ã§çµ‚ã‚ã‚‹
    },
    children: [
        {
            path: routes.ADMIN.PRODUCTS.INDEX,
            name: 'ProductList',
            component: () => import('@/views/products/ProductList.vue'),
        },
        {
            path: routes.ADMIN.PRODUCTS.DETAIL,
            name: 'ProductDetail',
            component: () => import('@/views/products/ProductDetail.vue'),
            meta: {
                breadcrumb: 'breadcrumbs.products.detail',
            },
        },
        {
            path: routes.ADMIN.PRODUCTS.UPDATE,
            name: 'ProductUpdate',
            component: () => import('@/views/products/ProductUpdate.vue'),
            meta: {
                breadcrumb: 'breadcrumbs.products.update',
                breadcrumbParent: 'ProductDetail', // â† ã“ã‚Œã ã‘ï¼
            },
        },
    ],
}
```

### ã‚¹ãƒ†ãƒƒãƒ—3: i18n ãƒ•ã‚¡ã‚¤ãƒ«ã«ç¿»è¨³ã‚’è¿½åŠ 

```javascript
// src/locales/ja.json
{
    "breadcrumbs": {
        "products": {
            "list": "å•†å“",
            "detail": "è©³ç´°",
            "update": "ç·¨é›†"
        }
    }
}
```

### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã§ä½¿ç”¨

```vue
<!-- src/views/products/ProductList.vue -->
<script setup>
import { productRoutes } from '@/constants/routes';

function goToDetail(productId) {
    router.push(productRoutes.detail(productId));
}
</script>

<template>
    <Header :app-title="t('pages.products.list.title')" />
    <!-- ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã¯è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ -->
</template>
```

**å®Œæˆï¼**
```
ä¸€è¦§: ãƒ›ãƒ¼ãƒ  > ç®¡ç† > å•†å“
è©³ç´°: ãƒ›ãƒ¼ãƒ  > ç®¡ç† > å•†å“ > è©³ç´°
ç·¨é›†: ãƒ›ãƒ¼ãƒ  > ç®¡ç† > å•†å“ > è©³ç´° > ç·¨é›†  â† è‡ªå‹•ï¼
```

---

## ğŸ¨ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•

ç‰¹å®šã®ç”»é¢ã ã‘æ‰‹å‹•ã§ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã‚’å®šç¾©ã—ãŸã„å ´åˆã€‚

### ä¾‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å‹•çš„ã«è¡¨ç¤º

```vue
<script setup>
import { computed } from 'vue';
import { routes } from '@/constants/routes';
import { useI18n } from 'vue-i18n';

const { t } = useI18n();
const user = ref({ username: 'å±±ç”°å¤ªéƒ' });

// ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ
const customBreadcrumbs = computed(() => [
    { title: t('breadcrumbs.home'), to: routes.HOME, disabled: false },
    { title: t('breadcrumbs.admin'), to: routes.ADMIN.ROOT, disabled: false },
    { title: user.value.username, disabled: true }, // å‹•çš„ãªå€¤
]);
</script>

<template>
    <!-- ã‚«ã‚¹ã‚¿ãƒ ã‚’æ˜ç¤ºçš„ã«æ¸¡ã™ -->
    <Header 
        :app-title="t('pages.users.detail.title')"
        :breadcrumbs="customBreadcrumbs"
    />
</template>
```

---

## ğŸš« ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã‚’éè¡¨ç¤ºã«ã™ã‚‹

```javascript
// src/router/index.js
{
    path: '/login',
    name: 'Login',
    component: () => import('@/views/Login.vue'),
    meta: {
        breadcrumb: false, // â† false ã«ã™ã‚‹
    },
}
```

ã¾ãŸã¯

```vue
<template>
    <!-- ç©ºé…åˆ—ã‚’æ¸¡ã™ -->
    <Header 
        :app-title="t('pages.login.title')"
        :breadcrumbs="[]"
    />
</template>
```

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q1: ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œãªã„

**ç¢ºèªé …ç›®:**
1. `router/index.js` ã§ `meta.breadcrumb` ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹
2. i18n ãƒ•ã‚¡ã‚¤ãƒ«ã«è©²å½“ã®ã‚­ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã‹
3. `Header.vue` ãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹

```javascript
// âœ… æ­£ã—ã„
meta: {
    breadcrumb: 'breadcrumbs.users.list',
}

// âŒ é–“é•ã„
meta: {
    breadcrumb: t('breadcrumbs.users.list'), // t() ã¯ä½¿ãˆãªã„
}
```

---

### Q2: ç·¨é›†ç”»é¢ã§è©³ç´°ãŒæŒ¿å…¥ã•ã‚Œãªã„

**ç¢ºèªé …ç›®:**
1. ä¸€è¦§ç”»é¢ã® `breadcrumb` ãŒ `.list` ã§çµ‚ã‚ã£ã¦ã„ã‚‹ã‹
2. ç·¨é›†ç”»é¢ã« `breadcrumbParent` ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹
3. è©³ç´°ç”»é¢ã® `name` ã¨ `breadcrumbParent` ã®å€¤ãŒä¸€è‡´ã—ã¦ã„ã‚‹ã‹

```javascript
// âœ… æ­£ã—ã„
{
    path: 'users',
    meta: {
        breadcrumb: 'breadcrumbs.users.list', // .list ã§çµ‚ã‚ã‚‹
    },
    children: [
        {
            path: ':id',
            name: 'UserDetail', // â† ã“ã®åå‰
            meta: { breadcrumb: 'breadcrumbs.users.detail' },
        },
        {
            path: ':id/update',
            meta: {
                breadcrumb: 'breadcrumbs.users.update',
                breadcrumbParent: 'UserDetail', // â† ä¸€è‡´
            },
        },
    ],
}
```

---

### Q3: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒç½®æ›ã•ã‚Œãªã„

**ç¢ºèªé …ç›®:**
1. ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åãŒæ­£ã—ã„ã‹ï¼ˆ`:id`, `:userId` ãªã©ï¼‰
2. `route.params` ã«å€¤ãŒå…¥ã£ã¦ã„ã‚‹ã‹

```javascript
// ãƒ‡ãƒãƒƒã‚°æ–¹æ³•
console.log('route.params:', route.params);
// æœŸå¾…: { id: '123' } or { userId: '123' }
```

---

### Q4: ç¿»è¨³ã•ã‚Œãªã„

**ç¢ºèªé …ç›®:**
1. i18n ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚­ãƒ¼ãŒæ­£ã—ã„ã‹
2. ãƒã‚¹ãƒˆãŒæ­£ã—ã„ã‹

```javascript
// âœ… æ­£ã—ã„
{
    "breadcrumbs": {
        "users": {
            "list": "ãƒ¦ãƒ¼ã‚¶ãƒ¼"
        }
    }
}

// âŒ é–“é•ã„
{
    "breadcrumbs.users.list": "ãƒ¦ãƒ¼ã‚¶ãƒ¼" // ãƒ•ãƒ©ãƒƒãƒˆã¯ãƒ€ãƒ¡
}
```

---

## ğŸ“Š å¯¾å¿œã—ã¦ã„ã‚‹ç”»é¢é·ç§»ãƒ‘ã‚¿ãƒ¼ãƒ³

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | å¯¾å¿œçŠ¶æ³ | ä¾‹ |
|---------|---------|-----|
| åŸºæœ¬CRUDï¼ˆä¸€è¦§â†’è©³ç´°â†’ç·¨é›†/å‰Šé™¤ï¼‰ | âœ… å®Œå…¨å¯¾å¿œ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† |
| ä¸€è¦§ã‹ã‚‰ç›´æ¥ç·¨é›† | âœ… å®Œå…¨å¯¾å¿œ | è¨­å®šç”»é¢ |
| ä¸€è¦§â†’æ–°è¦ä½œæˆ | âœ… å®Œå…¨å¯¾å¿œ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ |
| è©³ç´°ã‹ã‚‰åˆ¥ç”»é¢ã¸ | âœ… å®Œå…¨å¯¾å¿œ | æ¨©é™ç®¡ç†ã€å±¥æ­´ |
| ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ | âœ… å®Œå…¨å¯¾å¿œ | è©³ç´°ç”»é¢å†…ã®ã‚¿ãƒ– |
| ãƒ¢ãƒ¼ãƒ€ãƒ«/ãƒ‰ãƒ­ãƒ¯ãƒ¼ | âœ… å®Œå…¨å¯¾å¿œ | URLå¤‰ã‚ã‚‰ãªã„ |
| æ·±ã„éšå±¤ï¼ˆ3éšå±¤ä»¥ä¸Šï¼‰ | âš ï¸ è¦æ‹¡å¼µ | ä¼æ¥­â†’éƒ¨ç½²â†’ç¤¾å“¡ |
| ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰å½¢å¼ | âš ï¸ è¦æ‹¡å¼µ | è¤‡æ•°ã‚¹ãƒ†ãƒƒãƒ— |

**ã‚«ãƒãƒ¼ç‡: ç´„80-90%**

---

## ğŸ“ å®Ÿè£…ã®ä»•çµ„ã¿

### useBreadcrumbs composable

```javascript
// src/composables/useBreadcrumbs.js
export function useBreadcrumbs() {
    const route = useRoute();
    const router = useRouter();
    const { t } = useI18n();

    const breadcrumbs = computed(() => {
        const crumbs = [];
        
        // 1. route.matched ã‹ã‚‰è‡ªå‹•ç”Ÿæˆ
        route.matched.forEach((record) => {
            if (record.meta.breadcrumb) {
                crumbs.push({
                    title: t(record.meta.breadcrumb),
                    to: record.path,
                    disabled: false,
                });
            }
        });

        // 2. breadcrumbParent ãŒã‚ã‚‹å ´åˆã¯è©³ç´°ã‚’æŒ¿å…¥
        if (currentMeta?.breadcrumbParent) {
            // è©³ç´°ç”»é¢ã‚’æ¢ã—ã¦æŒ¿å…¥
        }

        // 3. æœ€å¾Œã¯ç„¡åŠ¹åŒ–
        crumbs[crumbs.length - 1].disabled = true;

        return crumbs;
    });

    return { breadcrumbs };
}
```

### Header ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```vue
<script setup>
import { useBreadcrumbs } from '@/composables/useBreadcrumbs';

const { breadcrumbs: autoBreadcrumbs } = useBreadcrumbs();

const props = defineProps({
    breadcrumbs: {
        type: Array,
        default: null, // null = è‡ªå‹•ç”Ÿæˆ
    },
});

const displayBreadcrumbs = computed(() => {
    // ã‚«ã‚¹ã‚¿ãƒ ãŒæ¸¡ã•ã‚ŒãŸã‚‰ãã‚Œã‚’ä½¿ã†ã€ãªã‘ã‚Œã°è‡ªå‹•ç”Ÿæˆ
    return props.breadcrumbs !== null 
        ? props.breadcrumbs 
        : autoBreadcrumbs.value;
});
</script>
```

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [Vue Router å…¬å¼ - Meta Fields](https://router.vuejs.org/guide/advanced/meta.html)
- [Vue Router å…¬å¼ - Nested Routes](https://router.vuejs.org/guide/essentials/nested-routes.html)
- [Vue I18n å…¬å¼](https://vue-i18n.intlify.dev/)

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆæ–°æ©Ÿèƒ½è¿½åŠ æ™‚ï¼‰

- [ ] `routes.js` ã«ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã‚’è¿½åŠ 
- [ ] `router/index.js` ã«ãƒ«ãƒ¼ãƒˆã‚’å®šç¾©
- [ ] `meta.breadcrumb` ã« i18n ã‚­ãƒ¼ã‚’æŒ‡å®šï¼ˆ`.list` ã§çµ‚ã‚ã‚‹ï¼‰
- [ ] è©³ç´°ç”»é¢ã« `name` ã‚’å®šç¾©
- [ ] ç·¨é›†ãƒ»å‰Šé™¤ç”»é¢ã« `breadcrumbParent` ã‚’è¿½åŠ 
- [ ] i18n ãƒ•ã‚¡ã‚¤ãƒ«ã«ç¿»è¨³ã‚’è¿½åŠ 
- [ ] ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã‚’ä½¿ç”¨
- [ ] å‹•ä½œç¢ºèªï¼ˆä¸€è¦§â†’è©³ç´°â†’ç·¨é›†ã®é·ç§»ï¼‰

---

## ğŸ‰ ã¾ã¨ã‚

ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆè‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ã¯:

- âœ… Vue Router å…¬å¼æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã«æº–æ‹ 
- âœ… å®Ÿå‹™ã®80-90%ã®ç”»é¢é·ç§»ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚«ãƒãƒ¼
- âœ… æ–°æ©Ÿèƒ½è¿½åŠ ãŒç°¡å˜ï¼ˆãƒ«ãƒ¼ãƒˆå®šç¾© + i18n ã®ã¿ï¼‰
- âœ… ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ãŒé«˜ã„
- âœ… æ‹¡å¼µãŒå®¹æ˜“

å›°ã£ãŸã¨ãã¯ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼